
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>FAQ &#8212; Twinify</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="About us" href="about_us.html" />
    <link rel="prev" title="twinify.napsu_mq package" href="api/napsu_mq.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/PeopleAfter.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Twinify</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="quickstart.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cli_doc.html">
   Command line interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api_usage.html">
   API Overview
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="examples.html">
   Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="_examples/NapsuMQ%20example.html">
     Twinify example: NapsuMQ usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="api.html">
   Public API: Twinify package
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="api/base.html">
     twinify.base package
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="api/dpvi.html">
     twinify.dpvi package
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="api/napsu_mq.html">
     twinify.napsu_mq package
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   FAQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="about_us.html">
   About us
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acknowledgements.html">
   Acknowledgements
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/DPBayes/twinify"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/DPBayes/twinify/issues/new?title=Issue%20on%20page%20%2Ffaq.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/faq.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-you-tell-me-some-details-about-the-technical-implementation">
   Can you tell me some details about the technical implementation?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#i-m-unhappy-with-the-quality-of-the-generated-data-what-hyperparameters-can-i-tweak">
   I’m unhappy with the quality of the generated data, what hyperparameters can I tweak?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#my-data-has-lots-of-missing-values-what-do-i-need-to-do">
   My data has lots of missing values, what do I need to do?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-distributions-are-supported-in-the-automatic-modelling">
   What distributions are supported in the automatic modelling?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-the-automatic-modelling-work-what-kind-of-model-does-it-build">
   How does the automatic modelling work? What kind of model does it build?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-constraints-does-twinify-set-on-numpyro-models">
   What constraints does twinify set on NumPyro models?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-you-tell-me-more-about-how-the-parameters-affect-privacy">
   Can you tell me more about how the parameters affect privacy?
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>FAQ</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-you-tell-me-some-details-about-the-technical-implementation">
   Can you tell me some details about the technical implementation?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#i-m-unhappy-with-the-quality-of-the-generated-data-what-hyperparameters-can-i-tweak">
   I’m unhappy with the quality of the generated data, what hyperparameters can I tweak?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#my-data-has-lots-of-missing-values-what-do-i-need-to-do">
   My data has lots of missing values, what do I need to do?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-distributions-are-supported-in-the-automatic-modelling">
   What distributions are supported in the automatic modelling?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-the-automatic-modelling-work-what-kind-of-model-does-it-build">
   How does the automatic modelling work? What kind of model does it build?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-constraints-does-twinify-set-on-numpyro-models">
   What constraints does twinify set on NumPyro models?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#can-you-tell-me-more-about-how-the-parameters-affect-privacy">
   Can you tell me more about how the parameters affect privacy?
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">#</a></h1>
<section id="can-you-tell-me-some-details-about-the-technical-implementation">
<h2>Can you tell me some details about the technical implementation?<a class="headerlink" href="#can-you-tell-me-some-details-about-the-technical-implementation" title="Permalink to this headline">#</a></h2>
<p>twinify relies on <a class="reference external" href="https://github.com/pyro-ppl/numpyro">NumPyro</a>, a versatile probabilistic programming framework similar to <a class="reference external" href="http://pyro.ai/">Pyro</a>, for modelling and inference purposes. NumPyro uses fast CPU and GPU kernels for execution, which are provided by the <a class="reference external" href="https://github.com/google/jax/">JAX</a> framework. Differentially private training routines for NumPyro are introduced by the <a class="reference external" href="https://github.com/DPBayes/dppp">d3p</a> package.</p>
</section>
<section id="i-m-unhappy-with-the-quality-of-the-generated-data-what-hyperparameters-can-i-tweak">
<h2>I’m unhappy with the quality of the generated data, what hyperparameters can I tweak?<a class="headerlink" href="#i-m-unhappy-with-the-quality-of-the-generated-data-what-hyperparameters-can-i-tweak" title="Permalink to this headline">#</a></h2>
<p>First off, we need to warn you about <strong>tweaking the hyperparameters</strong> based on quality of the synthetic data: If you do that your choice will end up tailored to your specific data set which <strong>can leak private information in subtle ways, degrading the privacy guarantees given by twinify</strong>. Unfortunately, there’s is no simple way to work around that other than finding good parameters on a similar public data set before working on your sensitive data.</p>
<p>If it is possible, you can usually improve quality of the synthetic data by relaxing your privacy constraints (i.e., choosing a larger ε for the same δ).</p>
<p>Also, differentially private learning is known to work better with more data. In case you are working with particularly small data set, you might need to collect more data in order to improve the utility of synthetic data.</p>
</section>
<section id="my-data-has-lots-of-missing-values-what-do-i-need-to-do">
<h2>My data has lots of missing values, what do I need to do?<a class="headerlink" href="#my-data-has-lots-of-missing-values-what-do-i-need-to-do" title="Permalink to this headline">#</a></h2>
<p>Real data is often incomplete and missing values might occur for a multitude of reasons, for example due to scarcity in measuring resources. twinify supports modelling features with missing values using a simple mechanism:
It assumes that values can be missing at random (independently from whether other feature values are missing as well) with a certain probability that is inferred from the data. During data generation, twinify first evaluates whether there should be a value, and, if so, samples one from the feature distribution specified in the model you provided.</p>
<p>Using automatic modelling, twinify detects and handles features with missing values automatically and you don’t need to do anything. You can disable that behavior by setting the <code class="docutils literal notranslate"><span class="pre">--drop_na=1</span></code> command line argument to remove all data instances with missing values.</p>
<p>When writing your own NumPyro models, you can use the <code class="docutils literal notranslate"><span class="pre">twinify.na_model.NAModel</span></code> class to wrap around the feature distribution for achieving the same effect.</p>
<p>In mathematical terms, the likelihood of data in the <code class="docutils literal notranslate"><span class="pre">NAModel</span></code> is</p>
<p><img alt="NAModelLikelihood" src="https://render.githubusercontent.com/render/math?math=p%28x%20%5Cmid%20q_%7BNA%7D%2C%20%5Ctheta_x%29%20%3D%20%5Cdelta_%7BNA%7D%28x%29%20q_%7BNA%7D%20%2B%20%5Cphi%28x%20%5Cmid%20%5Ctheta%29%281-q_%7BNA%7D%29%5Cmathbb%7B1%7D%28x%5Cneq%20NA%29" /></p>
<p>where <img alt="" src="https://render.githubusercontent.com/render/math?math=%5Cphi%28x%20%5Cmid%20%5Ctheta_x%29" /> is the likelihood of existing data x (according to the assigned feature distribution) and <img alt="" src="https://render.githubusercontent.com/render/math?math=q_%7BNA%7D" /> denotes the probability that x is missing. Similar to other model parameters, twinify assigns a prior to and learns a posterior for <img alt="" src="https://render.githubusercontent.com/render/math?math=q_%7BNA%7D" />.</p>
</section>
<section id="what-distributions-are-supported-in-the-automatic-modelling">
<h2>What distributions are supported in the automatic modelling?<a class="headerlink" href="#what-distributions-are-supported-in-the-automatic-modelling" title="Permalink to this headline">#</a></h2>
<p>Currently supported feature distributions are shown in the table below with the corresponding prior choices twinify uses for the parameters of these distributions.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Distribution</p></th>
<th class="head"><p>Parameters</p></th>
<th class="head"><p>Priors</p></th>
<th class="head"><p>Use for</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Normal</p></td>
<td><p>location μ, scale σ</p></td>
<td><p>μ ∼ 𝓝(0, 10),σ ∼ LogNormal(0,2)</p></td>
<td><p>(symmetric) continuous real numbers</p></td>
</tr>
<tr class="row-odd"><td><p>Bernoulli</p></td>
<td><p>probability p</p></td>
<td><p>p ∼ Beta(1, 1)</p></td>
<td><p>binary categories (0/1 integers or “yes”/”no” strings)</p></td>
</tr>
<tr class="row-even"><td><p>Categorical</p></td>
<td><p>probabilities <strong>p</strong></p></td>
<td><p><strong>p</strong> ∼ Dirichlet(1, …, 1)</p></td>
<td><p>arbitrary categories (integer or string data)</p></td>
</tr>
<tr class="row-odd"><td><p>Poisson</p></td>
<td><p>rate λ</p></td>
<td><p>λ ∼ Exp(1)</p></td>
<td><p>ordinal integer data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="how-does-the-automatic-modelling-work-what-kind-of-model-does-it-build">
<h2>How does the automatic modelling work? What kind of model does it build?<a class="headerlink" href="#how-does-the-automatic-modelling-work-what-kind-of-model-does-it-build" title="Permalink to this headline">#</a></h2>
<p>As already mentioned, twinify’s automatic modelling uses the distributions you specify for each feature (i.e., column in the data) to build a so called <em>mixture model</em> consisting of several <em>components</em>.  In each mixture component, the features are assumed to be independently modelled by the distributions you specified with component-specific parameters. Each data instance is associated with a single component with a probability given by the mixture’s <em>weight</em>. During data generation, for each generated data instance, twinify first randomly picks a component according to the weights and then samples the data point according from the parameterised feature distributions in that component.</p>
<p>While all features are treated as independent in each mixture component, the mixture model as a whole is typically able to capture correlations between features.</p>
<p>In mathematical terms, the likelihood of the data given the model parameters for the mixture model is
<img alt="MixtureModelLikelihood" src="https://render.githubusercontent.com/render/math?math=p%28%5Cmathbf%7BX%7D%20%7C%20%5Cboldsymbol%7B%5Ctheta%7D%29%20%3D%20%5Csum_%7Bk%3D1%7D%5EK%20%5Cpi_k%20%5Cprod_%7Bd%3D1%7D%5ED%20%5Cphi_d%28%5Cmathbf%7BX%7D_%7B%3A%2Cd%7D%20%7C%5Cboldsymbol%7B%5Ctheta%7D_%7Bd%2Ck%7D%29" /></p>
<p>where <img alt="" src="https://render.githubusercontent.com/render/math?math=%5Cphi_d%28%5Cmathbf%7BX%7D_%7B%3A%2Cd%7D%20%7C%5Cboldsymbol%7B%5Ctheta%7D_%7Bd%2Ck%7D%29" /> is the density function of the user-defined feature distribution and <img alt="" src="https://render.githubusercontent.com/render/math?math=%5Cmathbf%7BX%7D_%7B%3A%2Cd%7D" /> is the d-th feature column of the data set. To complete the probabilistic model twinify assigns non-informative prior distributions to the model parameters <img alt="" src="https://render.githubusercontent.com/render/math?math=%5Cboldsymbol%5Ctheta_%7Bd%2Ck%7D" /> as well as the weights <img alt="" src="https://render.githubusercontent.com/render/math?math=%5Cpi_k" /> for each of the K mixture components.</p>
</section>
<section id="what-constraints-does-twinify-set-on-numpyro-models">
<h2>What constraints does twinify set on NumPyro models?<a class="headerlink" href="#what-constraints-does-twinify-set-on-numpyro-models" title="Permalink to this headline">#</a></h2>
<p>There are only a few constraints twinify imposes. These are listed below.</p>
<p>You <em>must</em> define a function <code class="docutils literal notranslate"><span class="pre">model(x</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">num_obs_total</span> <span class="pre">=</span> <span class="pre">None)</span></code> containing the NumPyro model with the following constraints:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code> handles a single data instance at once and gets all data features in a single vector, i.e., <code class="docutils literal notranslate"><span class="pre">x</span></code> has shape <code class="docutils literal notranslate"><span class="pre">(num_features,)</span></code>.</p></li>
<li><p>Feature values in <code class="docutils literal notranslate"><span class="pre">x</span></code> are ordered as they appear in the data set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_obs_total</span></code> is the number of total observations (i.e., the size of your data set) that you can use to scale the likelihood accordingly.</p></li>
<li><p>During data generation, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">num_obs_total</span></code> will both be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code> must return a sample for <code class="docutils literal notranslate"><span class="pre">x</span></code> with features following the same order as in the input.</p></li>
</ul>
<p>You <em>may</em> specify a SVI <code class="docutils literal notranslate"><span class="pre">guide</span></code> function with the same arguments as <code class="docutils literal notranslate"><span class="pre">models</span></code>. If you do not, twinify uses NumPyro’s automatic guides.</p>
<p>You <em>may</em> specify a preprocessing function <code class="docutils literal notranslate"><span class="pre">preprocess(loaded_data)</span></code> that gets the data as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> as it was loaded from the csv-file and returns a data frame which rows will be passed to <code class="docutils literal notranslate"><span class="pre">model</span></code> during inference. Your preprocessing may involve</p>
<ul class="simple">
<li><p>selecting the relevant feature columns out of the data</p></li>
<li><p>reordering feature columns</p></li>
<li><p>mapping strings to numeric values</p></li>
<li><p>etc.</p></li>
</ul>
<p>If you do not specify a preprocessing function, no preprocessing will take place and the loaded data is used as is.</p>
<p>You <em>may</em>  specify a post-processing function <code class="docutils literal notranslate"><span class="pre">postprocess(sampled_data)</span></code> that gets the data as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> sampled from the model after inference and returns a data frame to be written to the output csv-file. A possible post-processing step would be to map numeric values back to their string representation (i.e., reversing the mapping applied during preprocessing). If you do not specify a post-processing function, no post-processing will take place the generated data is stored as is.</p>
</section>
<section id="can-you-tell-me-more-about-how-the-parameters-affect-privacy">
<h2>Can you tell me more about how the parameters affect privacy?<a class="headerlink" href="#can-you-tell-me-more-about-how-the-parameters-affect-privacy" title="Permalink to this headline">#</a></h2>
<p>The private learning algorithm twinify uses is based on gradient descent optimization using perturbed gradients in every iteration. The gradients are first clipped so that their norm does not exceed a given threshold and then perturbed using Gaussian noise to mask any individuals contribution. Larger variance of Gaussian noise leads to more strict privacy guarantees, i.e., to smaller ε and δ.</p>
<p>twinify accepts the privacy level ε (and δ, typically determined automatically) as parameters and finds the variance for Gaussian noise to suffice this level of privacy. The noise variance is additionally affected by the number of epochs (Nₑ) and the subsampling ratio (q) as σ² ~= O(q Nₑ) since both affect the number of total iterations the algorithm performs and thus the number of times private data is handled.</p>
<p>Larger noise variance can negatively affect the learning so choosing too large values for q or Nₑ will likely give bad results.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="api/napsu_mq.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">twinify.napsu_mq package</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="about_us.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">About us</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By twinify Developers<br/>
  
      &copy; Copyright 2023, twinify Developers and their assignees.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>